## 变长模板

```c++
template<typename T, typename... Args>
std::unique_ptr<T> make_unique(Args&&... args) {
    return std::unique_ptr<T>(new T(std::forward<Args>(args)...));
}
```

## SFINAE 与类型约束

什么是 SFINAE？

    Substitution Failure Is Not An Error

    ——模板参数替换失败 ≠ 编译错误，而是从重载集中移除该候选

用途：根据类型特性启用/禁用函数模板

```c++
template<typename T>
typename std::enable_if<std::is_integral_v<T>, T>::type
add_one(T x) {
    return x + 1;
}
// 若 T 不是整数类型，此模板被 SFINAE 排除
```

C++14 更简洁写法：

```c++
template<typename T>
std::enable_if_t<std::is_integral_v<T>, T>
add_one(T x) { return x + 1; }
```
