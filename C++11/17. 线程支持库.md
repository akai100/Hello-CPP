# 线程支持库

## std::thread

类```thread```表示单个执行线程。线程运行多个函数同时执行。

构造函数：

```C++
std::thread t1();

void f1(int num)
{
}

void f2(int &num)
{
}

std::thread t2(f1, n + 1);        // 按值传递
std::thread t3(f2, std::ref(n))   // 按引用传递

class foo
{
public:
    void bar() {}
};
foo f;
std::thread t4(&foo::bar, &f);   // t4 在对象 f 上运行 foo::bar()

class baz
{
public:
    void operator()() {};
};
baz b;
std::thread t5(b);
```

### 成员函数

#### joinable

功能：表示线程对象是否关联一个活动的执行线程（即可安全调用```join()```或```detach()```）。

#### join()

功能：阻塞当前线程直到 ```*this```所标识的线程结束其执行。

#### detach()

功能：新线程与std::thread对象解绑，由操作系统独立管理资源回收，主线程无需等待其结束。

#### swap

功能：交换两个```thread```对象的底层柄。

#### get_id

功能：返回线程的 id

#### native_handle

功能：返回底层实现定义的线程句柄

#### hardware_concurrency(静态）

## std::mutex

功能：std::mutex 类是能用于保护共享数据免受从多个线程同时访问的同步原语。

### 成员函数

功能：返回实现支持的并发线程数

#### mutex()

#### mutex(const mutex&) = delete

功能：删除复制构造函数

#### lock

功能：锁定互斥。若另一线程已锁定互斥，则 lock 调用将阻塞执行，直至获得锁。

#### try_lock

功能：尝试锁定互斥，若互斥不可用则返回。

#### unlock

功能：解锁互斥。

#### native_handle

功能：返回底层实现定义的原生句柄。

## std::condition_variable

condition_variable 类是同步原语，能用于阻塞一个线程，或同时阻塞多个线程，直至另一线程修改共享变量（条件）并通知 condition_variable 。

### 成员函数


